include ../button-link/button-link.pug

mixin dropdown({arrDefaultNumbers = [0, 0, 0], type = "", arrTitles = []} = {}) 
  -
    let parentClass = type ? " dropdown_with-buttons js-dropdown_with-buttons" : "";
    let className = type ? " iqdropdown-selection_opacity_m" : "";
  div(class=`js-dropdown dropdown${parentClass}`)
    .iqdropdown
      p(class=`iqdropdown-selection${className}`)
      .iqdropdown-menu
        each val, i in arrTitles
          div(class="iqdropdown-menu-option" data-id=`item${i + 1}` data-defaultcount=arrDefaultNumbers[i]  data-maxcount="10")
            div
              p(class="iqdropdown-item")=val
        if type
          div(class="js-dropdown__buttons dropdown__buttons")
            div(class="js-dropdown__clear-button dropdown__clear-button dropdown__clear-button_hidden")
              +button-link({text: "Очистить", color: "grey"})
            div(class="js-dropdown__apply-button dropdown__apply-button")
              +button-link({text: "Применить"})